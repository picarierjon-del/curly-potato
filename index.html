<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ErjonPro - Registro Gestionale</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        body { background-color: #f3f4f6; font-family: -apple-system, system-ui, sans-serif; }
        .tab-content { display: none; }
        .tab-content.active { display: block; }
        .nav-item.active { color: #2563eb; }
        .card { background: white; border-radius: 12px; box-shadow: 0 1px 3px rgba(0,0,0,0.1); margin-bottom: 1rem; padding: 1rem; }
        input { border: 1px solid #d1d5db; border-radius: 8px; padding: 0.6rem; width: 100%; }
        .nav-bottom { position: fixed; bottom: 0; width: 100%; background: white; border-top: 1px solid #e5e7eb; display: flex; justify-content: space-around; padding: 10px 0; padding-bottom: calc(10px + env(safe-area-inset-bottom)); }
    </style>
</head>
<body class="pb-24">

    <header class="bg-blue-600 text-white p-4 sticky top-0 z-50 flex justify-between items-center shadow-md">
        <h1 id="page-title" class="text-xl font-bold">Oggi</h1>
        <i class="fa-solid fa-circle-user text-2xl"></i>
    </header>

    <div class="p-4 max-w-md mx-auto">
        
        <div id="oggi" class="tab-content active">
            <div class="card">
                <label class="block text-sm font-bold mb-1">Data Corrente</label>
                <input type="date" value="2026-01-21" onchange="calculateAll()">
            </div>

            <div class="card">
                <h2 class="font-bold text-blue-600 mb-3 border-b pb-1">ENTRATE</h2>
                <div class="space-y-3">
                    <div><label class="text-xs">Corrispettivi Totali</label><input type="number" id="corr-totali" placeholder="0.00" oninput="calculateAll()"></div>
                    <div class="grid grid-cols-2 gap-2">
                        <div><label class="text-xs">Bancomat</label><input type="number" class="elettr" id="bancomat" placeholder="0.00" oninput="calculateAll()"></div>
                        <div><label class="text-xs">Satispay</label><input type="number" class="elettr" id="satispay" placeholder="0.00" oninput="calculateAll()"></div>
                    </div>
                </div>
            </div>

            <div class="card bg-blue-50">
                <h2 class="font-bold mb-2 text-sm text-gray-700">RIEPILOGO CASSA</h2>
                <div class="flex justify-between text-sm mb-1"><span>Contanti Teorici:</span> <span id="calc-contanti-teorici" class="font-bold">€ 0.00</span></div>
                <div class="flex justify-between text-sm text-red-600 font-bold"><span>Mancante da versare:</span> <span id="calc-mancante">€ 0.00</span></div>
            </div>
        </div>

        <div id="registro" class="tab-content text-center">
            <div class="card">
                <h2 class="font-bold mb-4">Registro Mensile</h2>
                <div class="overflow-x-auto text-xs">
                    <table class="w-full text-left">
                        <thead><tr class="border-b"><th>Data</th><th>Entrate</th><th>Cash</th></tr></thead>
                        <tbody>
                            <tr class="border-b h-10"><td>21/01</td><td>€ 100.00</td><td>€ 50.00</td></tr>
                            <tr class="border-b h-10"><td>20/01</td><td>€ 150.00</td><td>€ 80.00</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <div id="dashboard" class="tab-content">
            <div class="card bg-gradient-to-br from-blue-500 to-blue-700 text-white">
                <p class="text-sm opacity-80">Totale Entrate Gennaio</p>
                <h2 class="text-3xl font-bold">€ 4.250,00</h2>
            </div>
            <div class="grid grid-cols-2 gap-3">
                <div class="card text-center"><p class="text-xs">Uscite Fornitori</p><p class="font-bold text-red-500">€ 850</p></div>
                <div class="card text-center"><p class="text-xs">Media Giornaliera</p><p class="font-bold text-green-500">€ 210</p></div>
            </div>
        </div>

        <div id="stampe" class="tab-content text-center">
            <div class="card">
                <i class="fa-solid fa-file-pdf text-4xl text-red-500 mb-2"></i>
                <h2 class="font-bold">Esporta PDF</h2>
                <p class="text-sm text-gray-500 mb-4">Genera il riepilogo per il commercialista.</p>
                <button class="bg-blue-600 text-white px-6 py-2 rounded-full w-full">Scarica Gennaio</button>
            </div>
        </div>

    </div>

    <nav class="nav-bottom">
        <button onclick="showTab('oggi', 'Oggi', this)" class="nav-item flex flex-col items-center text-xs active">
            <i class="fa-solid fa-calendar-day text-xl"></i> <span>Oggi</span>
        </button>
        <button onclick="showTab('registro', 'Registro', this)" class="nav-item flex flex-col items-center text-xs text-gray-400">
            <i class="fa-solid fa-list-check text-xl"></i> <span>Registro</span>
        </button>
        <button onclick="showTab('dashboard', 'Dashboard', this)" class="nav-item flex flex-col items-center text-xs text-gray-400">
            <i class="fa-solid fa-chart-pie text-xl"></i> <span>Stats</span>
        </button>
        <button onclick="showTab('stampe', 'Stampe', this)" class="nav-item flex flex-col items-center text-xs text-gray-400">
            <i class="fa-solid fa-print text-xl"></i> <span>Stampe</span>
        </button>
    </nav>

    <script>
        // Funzione per cambiare Tab (i pulsanti sotto)
        function showTab(tabId, title, element) {
            // Nascondi tutti i contenuti
            document.querySelectorAll('.tab-content').forEach(tab => tab.classList.remove('active'));
            // Mostra quello selezionato
            document.getElementById(tabId).classList.add('active');
            
            // Aggiorna il titolo nell'header
            document.getElementById('page-title').innerText = title;
            
            // Cambia colore alle icone
            document.querySelectorAll('.nav-item').forEach(nav => {
                nav.classList.remove('text-blue-600', 'active');
                nav.classList.add('text-gray-400');
            });
            element.classList.remove('text-gray-400');
            element.classList.add('text-blue-600', 'active');
        }

        // Logica calcoli (stessa di prima)
        function calculateAll() {
            const corr = parseFloat(document.getElementById('corr-totali').value) || 0;
            const bcomat = parseFloat(document.getElementById('bancomat').value) || 0;
            const saty = parseFloat(document.getElementById('satispay').value) || 0;
            
            const elettronici = bcomat + saty;
            const contantiTeorici = corr - elettronici;
            
            document.getElementById('calc-contanti-teorici').innerText = `€ ${contantiTeorici.toFixed(2)}`;
            document.getElementById('calc-mancante').innerText = `€ ${contantiTeorici.toFixed(2)}`;
        }
    </script>
</body>
</html>
